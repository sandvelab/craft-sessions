<!doctype html>
<html class="no-js" lang="en" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Setting up and organizing a project" href="../setting_up_project.html" /><link rel="prev" title="Getting started with programming" href="programming_intro.html" />

    <!-- Generated with Sphinx 7.4.7 and Furo 2024.08.06 -->
        <title>Clean code - Craft Sessions Sandve Lab documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=354aac6f" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=302659d7" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Craft Sessions Sandve Lab  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">Craft Sessions Sandve Lab  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Getting started:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="getting_started_bioinf.html">Getting started in bioinformatics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../biology/genomics_intro.html">Getting started with genomics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../biology/immunology_intro.html">Getting started with immunology and adaptive immune receptors</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Topics:</span></p>
<ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../analysis_design.html">Designing an analysis</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Designing an analysis</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="statistics.html">Statistics: reference</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="ml_and_causality.html">Machine learning and causal inference</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Machine learning and causal inference</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="ml_intro/overview.html">Brief overview of machine learning in computational biology</a></li>
<li class="toctree-l3"><a class="reference internal" href="ml_intro/intro_to_ml.html">Introduction to Machine Learning</a></li>
<li class="toctree-l3"><a class="reference internal" href="ml_intro/ml_models.html">Introduction to machine learning models and algorithms</a></li>
<li class="toctree-l3"><a class="reference internal" href="ml_intro/data_representation.html">Data representation in machine learning</a></li>
<li class="toctree-l3"><a class="reference internal" href="ml_intro/ml_model_comparison_and_uncertainty.html">Machine learning model comparison and uncertainty</a></li>
<li class="toctree-l3"><a class="reference internal" href="ml_intro/transparency_and_reproducibility.html">Transparency and reproducibility in machine learning</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="specialized_topics_in_ml_and_stats.html">Specialized topics in machine learning and statistics</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Specialized topics in machine learning and statistics</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="specialized_ml_topics/DL_book_ch5_1_overview.html">Machine Learning Basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="specialized_ml_topics/auto_encoding_variational_bayes.html">Auto-Encoding Variational Bayes</a></li>
<li class="toctree-l3"><a class="reference internal" href="specialized_ml_topics/variational_inference.html">Notes on variational inference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../biology/genomics.html">Genomics: references</a></li>
<li class="toctree-l2"><a class="reference internal" href="../biology/immunology.html">Immunology: references</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="../programming.html">Programming</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle navigation of Programming</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="programming_intro.html">Getting started with programming</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Clean code</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../setting_up_project.html">Setting up and organizing a project</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle navigation of Setting up and organizing a project</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="sharing_tools.html">Services to share developed tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="containers.html">Containers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../running_analysis.html">Running an analysis</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../writing.html">Academic Writing</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle navigation of Academic Writing</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../writing/essay_master_students.html">Writing an essay for master students</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/computational/clean_code.md.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="clean-code">
<h1>Clean code<a class="headerlink" href="#clean-code" title="Link to this heading">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Aim: The following are notes from the Clean Code book by Robert C. Martin. The aim is to briefly cover some best coding practices on simple
examples.</p>
<p>Level: any 🌱🌿🌳</p>
</div>
<section id="chapter-1-meaningful-names">
<h2>Chapter 1: Meaningful names<a class="headerlink" href="#chapter-1-meaningful-names" title="Link to this heading">¶</a></h2>
<section id="use-intention-revealing-names">
<h3>Use intention-revealing names<a class="headerlink" href="#use-intention-revealing-names" title="Link to this heading">¶</a></h3>
<p>Names should reveal intent.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># bad</span>
<span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">d2</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">d2</span> <span class="ow">in</span> <span class="n">d</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span> 

<span class="c1"># good</span>
<span class="k">def</span> <span class="nf">sequence_has_subsequence</span><span class="p">(</span><span class="n">sequence</span><span class="p">,</span> <span class="n">subsequence</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">subsequence</span> <span class="ow">in</span> <span class="n">sequence</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">return</span> <span class="kc">False</span>


<span class="k">if</span> <span class="n">sequence_has_subsequence</span><span class="p">(</span><span class="s2">&quot;ACTGACTG&quot;</span><span class="p">,</span> <span class="s2">&quot;ACT&quot;</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;We have a match&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="avoid-disinformation">
<h3>Avoid disinformation<a class="headerlink" href="#avoid-disinformation" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Don’t call something a list unless it’s actually a list</p></li>
<li><p>Avoid long variable names that are similar</p></li>
</ul>
</section>
<section id="make-meaningful-distinctions">
<h3>Make meaningful distinctions<a class="headerlink" href="#make-meaningful-distinctions" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># bad</span>
<span class="k">def</span> <span class="nf">align_sequence_to_reference</span><span class="p">(</span><span class="n">dna1</span><span class="p">,</span> <span class="n">dna2</span><span class="p">):</span>
    <span class="c1"># ..</span>

<span class="c1"># Good</span>
<span class="k">def</span> <span class="nf">align_sequence_to_reference</span><span class="p">(</span><span class="n">reference_dna</span><span class="p">,</span> <span class="n">query_dna</span><span class="p">):</span>
    <span class="c1"># ..</span>
</pre></div>
</div>
<p>Avoid noise words:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dna_string</span> <span class="o">=</span> <span class="s2">&quot;ACTG&quot;</span>
<span class="c1"># instead:</span>
<span class="n">dna</span> <span class="o">=</span> <span class="s2">&quot;ACTG&quot;</span>
</pre></div>
</div>
</section>
<section id="use-pronounceable-names">
<h3>Use pronounceable names<a class="headerlink" href="#use-pronounceable-names" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># bad</span>
<span class="n">mcfdrsmplrate</span> <span class="o">=</span> <span class="mf">3.0</span>

<span class="c1"># good</span>
<span class="n">monte_carlo_false_discovery_sample_rate</span> <span class="o">=</span> <span class="mf">3.0</span>
<span class="c1"># or maybe</span>
<span class="n">mc_false_discovery_sample_rate</span> <span class="o">=</span> <span class="mf">3.0</span>
</pre></div>
</div>
</section>
<section id="use-searchable-names">
<h3>Use searchable names<a class="headerlink" href="#use-searchable-names" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Only use single-letter names as local variables inside short methods</p></li>
<li><p>Variables used multiple places should have a search-friendly name</p></li>
</ul>
</section>
<section id="avoid-mental-mapping">
<h3>Avoid mental mapping<a class="headerlink" href="#avoid-mental-mapping" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># bad</span>

<span class="n">j</span> <span class="o">=</span> <span class="mf">4.0</span>
<span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_samples</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">):</span>
        <span class="n">analyse_sample</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">)</span>

<span class="c1"># better</span>
<span class="n">analysis_parameter</span> <span class="o">=</span> <span class="mf">4.0</span>
<span class="k">for</span> <span class="n">sample_id</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_samples</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">analysis_iteration</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">):</span>
        <span class="n">analyse_sample</span><span class="p">(</span><span class="n">sample_id</span><span class="p">,</span> <span class="n">analysis_iteration</span><span class="p">,</span> <span class="n">analysis_parameter</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="classes-and-objects-should-have-noun-names">
<h3>Classes and objects should have noun names<a class="headerlink" href="#classes-and-objects-should-have-noun-names" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># bad (avoid verbs)</span>
<span class="k">class</span> <span class="nc">Analyse</span><span class="p">:</span>

<span class="c1"># good</span>
<span class="k">class</span> <span class="nc">ImmuneAnalysisRunner</span><span class="p">:</span>
</pre></div>
</div>
</section>
<section id="methods-should-have-verb-or-verb-phrases-as-names">
<h3>Methods should have verb or verb phrases as names<a class="headerlink" href="#methods-should-have-verb-or-verb-phrases-as-names" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># bad </span>
<span class="k">def</span> <span class="nf">figure</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>

<span class="c1"># good</span>
<span class="k">def</span> <span class="nf">make_figure</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>

<span class="c1"># .. or e.g.:</span>
<span class="k">def</span> <span class="nf">get_figure</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
</pre></div>
</div>
</section>
<section id="don-t-be-cute">
<h3>Don’t be cute<a class="headerlink" href="#don-t-be-cute" title="Link to this heading">¶</a></h3>
<p>This example is taken from Telia code base for sending an invoice:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># bad </span>
<span class="k">class</span> <span class="nc">QuantumOfSolace</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">send_to_customer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    
<span class="c1"># good</span>
<span class="k">class</span> <span class="nc">Invoice</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">send_to_customer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</pre></div>
</div>
</section>
<section id="pick-one-word-per-concept">
<h3>Pick one word per concept<a class="headerlink" href="#pick-one-word-per-concept" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># bad</span>
<span class="k">class</span> <span class="nc">Sample</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">get_sample</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

<span class="k">class</span> <span class="nc">Analysis</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">fetch_analysis</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</pre></div>
</div>
</section>
<section id="other-rules">
<h3>Other rules:<a class="headerlink" href="#other-rules" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Avoid using the same word for two purposes</p></li>
<li><p>Use solution domain names (okay to use computer science terminology)</p></li>
<li><p>Add meaningful contect (example: a class can give context to a method)</p></li>
</ul>
</section>
</section>
<section id="chapter-3-functions">
<h2>Chapter 3: Functions<a class="headerlink" href="#chapter-3-functions" title="Link to this heading">¶</a></h2>
<section id="make-functions-small">
<h3>Make functions small<a class="headerlink" href="#make-functions-small" title="Link to this heading">¶</a></h3>
</section>
<section id="keep-indentation-level-at-maximum-1-or-2">
<h3>Keep indentation level at maximum 1 or 2<a class="headerlink" href="#keep-indentation-level-at-maximum-1-or-2" title="Link to this heading">¶</a></h3>
<p>Everything further intendented can usually be a new function</p>
</section>
<section id="functions-should-do-one-thing">
<h3>Functions should do one thing<a class="headerlink" href="#functions-should-do-one-thing" title="Link to this heading">¶</a></h3>
<p>Functions should do one thing. They should do it well. They should do it only.
A function can do multiple things if they are at the same level of abstraction.</p>
<ul class="simple">
<li><p>“Only one level of abstraction per function”</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># bad</span>
<span class="k">class</span> <span class="nc">Samples</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">add_sample</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sample</span><span class="p">):</span>
        <span class="c1"># add</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">samples</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>

        <span class="c1"># run analysis on this sample</span>
        <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">other_samples</span><span class="p">:</span>
            <span class="n">simulated_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_simulated_data</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
            <span class="n">results</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyse_two_samples</span><span class="p">(</span><span class="n">sample</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">result</span> <span class="ow">in</span> <span class="n">results</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">result</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">best_result</span><span class="p">:</span>
                    <span class="n">best_result</span> <span class="o">=</span> <span class="n">result</span>
            
        <span class="c1"># print report</span>
        <span class="o">....</span> 

<span class="c1"># better (but not good)</span>
<span class="k">class</span> <span class="nc">Samples</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">add_sample</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sample</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">samples</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
        <span class="n">analysis</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyse</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">print_report</span><span class="p">(</span><span class="n">analysis</span><span class="p">)</span>

<span class="c1"># good: Do not analyse anything in the add method</span>
</pre></div>
</div>
</section>
<section id="the-stepdown-rule">
<h3>The stepdown-rule<a class="headerlink" href="#the-stepdown-rule" title="Link to this heading">¶</a></h3>
<p>Every function should be followed by a next one so that we can read and understand the code from top to bottom.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SampleAnalyser</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">add_sample</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    
    <span class="k">def</span> <span class="nf">filter_sample</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">analyse_sample</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">print_analysis_report</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</pre></div>
</div>
</section>
<section id="give-your-functions-few-arguments">
<h3>Give your functions few arguments<a class="headerlink" href="#give-your-functions-few-arguments" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Zero arguments is optimal</p></li>
<li><p>No more than 3 arguments</p>
<ul>
<li><p>When more than 3: Wrap arguments in a class of their own</p></li>
</ul>
</li>
</ul>
<p>(This rule might be up for discussion, since IDE’s and optional arguments in Python makes many arguments less of a problem)</p>
</section>
<section id="flag-arguments-are-ugly">
<h3>Flag arguments are ugly<a class="headerlink" href="#flag-arguments-are-ugly" title="Link to this heading">¶</a></h3>
<p>“Passing a boolean into a function is a truly terrible practice”</p>
<ul class="simple">
<li><p>Instead: Make multiple functions</p></li>
</ul>
</section>
<section id="functions-should-not-have-side-effects">
<h3>Functions should not have side effects<a class="headerlink" href="#functions-should-not-have-side-effects" title="Link to this heading">¶</a></h3>
<p>Example: See the previous <code class="docutils literal notranslate"><span class="pre">add_sample</span></code> method</p>
</section>
<section id="functions-should-either-do-something-or-answer-something-not-both">
<h3>Functions should either do something or answer something (not both)<a class="headerlink" href="#functions-should-either-do-something-or-answer-something-not-both" title="Link to this heading">¶</a></h3>
</section>
<section id="prefer-exceptions-to-returning-error-codes">
<h3>Prefer exceptions to returning error codes<a class="headerlink" href="#prefer-exceptions-to-returning-error-codes" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># bad</span>
<span class="k">def</span> <span class="nf">add_sample</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sample</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_sample</span><span class="p">(</span><span class="n">sample</span><span class="p">):</span>
        <span class="k">return</span> <span class="mi">503</span>
    
    <span class="bp">self</span><span class="o">.</span><span class="n">samples</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
    <span class="k">return</span> <span class="mi">1</span>

<span class="c1"># good</span>
<span class="k">def</span> <span class="nf">add_sample</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sample</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">has_sample</span><span class="p">(</span><span class="n">sample</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">DuplicateSampleException</span><span class="p">(</span><span class="s2">&quot;Sample </span><span class="si">%s</span><span class="s2"> already exists and cannot be added&quot;</span> <span class="o">%</span> <span class="n">s</span><span class="p">)</span>
    
    <span class="bp">self</span><span class="o">.</span><span class="n">samples</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="extract-try-catch-blocks">
<h3>Extract try/catch blocks<a class="headerlink" href="#extract-try-catch-blocks" title="Link to this heading">¶</a></h3>
<p>Don’t do error handling inside function that do a specific task (have try/catch on the outside)</p>
</section>
<section id="don-t-repeat-yourself">
<h3>Don’t repeat yourself<a class="headerlink" href="#don-t-repeat-yourself" title="Link to this heading">¶</a></h3>
</section>
<section id="optional-all-functions-should-have-one-entry-and-one-exit">
<h3>(Optional) All functions should have one entry and one exit<a class="headerlink" href="#optional-all-functions-should-have-one-entry-and-one-exit" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>No continue, break or early returns</p></li>
<li><p>Only one return</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># instead of this</span>
<span class="k">def</span> <span class="nf">has_sample</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sample</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">other_sample</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">samples</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">sample</span>  <span class="o">==</span> <span class="n">other_sample</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>
        
    <span class="k">return</span> <span class="kc">False</span>

<span class="c1"># .. do this:</span>
<span class="k">def</span> <span class="nf">has_sample</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sample</span><span class="p">):</span>
    <span class="n">has_sample</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="k">for</span> <span class="n">other_sample</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">samples</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">sample</span> <span class="o">==</span> <span class="n">other_sample</span><span class="p">:</span>
            <span class="n">has_sample</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="c1"># break would be discouraged here ?</span>
            
    <span class="k">return</span> <span class="n">has_sample</span>
</pre></div>
</div>
</section>
<section id="refine-long-functions-into-multiple-shorter">
<h3>Refine long functions into multiple shorter<a class="headerlink" href="#refine-long-functions-into-multiple-shorter" title="Link to this heading">¶</a></h3>
<p>It is okay and common to start out writing long functions, and then refactor them.</p>
</section>
</section>
<section id="chapter-4-comments">
<h2>Chapter 4: Comments<a class="headerlink" href="#chapter-4-comments" title="Link to this heading">¶</a></h2>
<p>“Don’t comment bad code – rewrite it.”</p>
<ul class="simple">
<li><p>Comments “compensate” for failure to express ourself in code</p></li>
<li><p>“Comments lie”</p></li>
<li><p>Code changes and evolve, comments stay behind</p></li>
<li><p>Inaccurate comments are far worse than no comments at all</p></li>
</ul>
<section id="comments-do-not-make-up-for-bade-code">
<h3>Comments do not make up for bade code<a class="headerlink" href="#comments-do-not-make-up-for-bade-code" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Clean up your bad code instead of commenting it</p>
<ul>
<li><p><em>How do we relate this with “quick and dirty programming?”</em></p></li>
</ul>
</li>
</ul>
</section>
<section id="explain-your-self-in-code">
<h3>Explain your self in code<a class="headerlink" href="#explain-your-self-in-code" title="Link to this heading">¶</a></h3>
</section>
<section id="don-t-use-comments-when-you-can-use-a-function-or-variable">
<h3>Don’t use comments when you can use a function or variable<a class="headerlink" href="#don-t-use-comments-when-you-can-use-a-function-or-variable" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># bad</span>
<span class="c1"># get the sample</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_some_format</span><span class="p">(</span><span class="s2">&quot;data.txt&quot;</span><span class="p">,</span> <span class="n">skip_header</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
<span class="c1"># analyse sample</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="c1"># ... </span>
    <span class="c1">#.. </span>

<span class="c1"># good</span>
<span class="n">sample</span> <span class="o">=</span> <span class="n">get_sample</span><span class="p">()</span>
<span class="n">analyse</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="avoid-noise">
<h3>Avoid noise<a class="headerlink" href="#avoid-noise" title="Link to this heading">¶</a></h3>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># sample</span>
<span class="n">sample</span> <span class="o">=</span> <span class="n">get_sample</span><span class="p">()</span>
<span class="c1"># analyse</span>
<span class="n">analyse</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="avoid-todo-comments">
<h3>Avoid todo comments<a class="headerlink" href="#avoid-todo-comments" title="Link to this heading">¶</a></h3>
<p>Use external systems instead.</p>
</section>
<section id="informative-comments">
<h3>Informative comments<a class="headerlink" href="#informative-comments" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Can be useful for cryptic code that cannot be written clearly.</p></li>
<li><p>Can be useful to comment use of library functions/classes</p></li>
<li><p>Amplify something that’s important (“trimming sequence is important to avoid bug …”)</p></li>
</ul>
</section>
<section id="don-t-comment-out-code">
<h3>Don’t comment out code<a class="headerlink" href="#don-t-comment-out-code" title="Link to this heading">¶</a></h3>
<p>Remove it and use version control instead.</p>
</section>
</section>
<section id="chapter-5-formatting">
<h2>Chapter 5: Formatting<a class="headerlink" href="#chapter-5-formatting" title="Link to this heading">¶</a></h2>
<p>The purpose of good formating is give a good impression about the neatness and consistency of the code.</p>
<section id="vertical-formatting">
<h3>Vertical formatting<a class="headerlink" href="#vertical-formatting" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>No hard and fast rule</p></li>
<li><p>Small files are usually easier to understand ~200 lines.</p></li>
</ul>
<section id="the-newspaper-metaphor-structure">
<h4>The Newspaper Metaphor (structure)<a class="headerlink" href="#the-newspaper-metaphor-structure" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Headline: what the story is about</p></li>
<li><p>First paragraph: synopsis/bird’s-eye view of the story</p></li>
<li><p>The rest: all the details</p></li>
</ul>
<p>Similarly, in a source file:</p>
<ul class="simple">
<li><p>Name should be simple and tell us whether we are in the
right module or not.</p></li>
<li><p>The topmost parts of the source file should provide the high-level
concepts.</p></li>
<li><p>Detail should increase as we move downward.</p></li>
</ul>
</section>
<section id="the-newspaper-metaphor-length-of-files">
<h4>The Newspaper Metaphor (length of files)<a class="headerlink" href="#the-newspaper-metaphor-length-of-files" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Most articles are very small.</p></li>
<li><p>Some are a bit larger.</p></li>
<li><p>Very few contain as much text as a page can hold.</p></li>
</ul>
</section>
<section id="vertical-openness-between-concepts">
<h4>Vertical Openness Between Concepts<a class="headerlink" href="#vertical-openness-between-concepts" title="Link to this heading">¶</a></h4>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># bad</span>
<span class="kn">import</span> <span class="nn">numpy.random</span> <span class="k">as</span> <span class="nn">rn</span>
<span class="k">def</span> <span class="nf">get_rand_int</span><span class="p">(</span><span class="n">h</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">rn</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">get_normal</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">rn</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># good</span>
<span class="kn">import</span> <span class="nn">numpy.random</span> <span class="k">as</span> <span class="nn">rn</span>

<span class="k">def</span> <span class="nf">get_rand_int</span><span class="p">(</span><span class="n">h</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">rn</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">get_normal</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">rn</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="vertical-density">
<h4>Vertical Density<a class="headerlink" href="#vertical-density" title="Link to this heading">¶</a></h4>
<p>If openness separates concepts, then vertical density implies close association.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// bad</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ReporterConfig</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="cm">/**</span>
<span class="cm"> * The class name of the reporter listener</span>
<span class="cm"> */</span>
<span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">m_className</span><span class="p">;</span>
<span class="w"> </span><span class="cm">/**</span>
<span class="cm"> * The properties of the reporter listener</span>
<span class="cm"> */</span>
<span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Property</span><span class="o">&gt;</span><span class="w"> </span><span class="n">m_properties</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Property</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w"> </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addProperty</span><span class="p">(</span><span class="n">Property</span><span class="w"> </span><span class="n">property</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="n">m_properties</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">property</span><span class="p">);</span>
<span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// good</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ReporterConfig</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">m_className</span><span class="p">;</span>
<span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Property</span><span class="o">&gt;</span><span class="w"> </span><span class="n">m_properties</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Property</span><span class="o">&gt;</span><span class="p">();</span>
<span class="w"> </span>
<span class="w"> </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addProperty</span><span class="p">(</span><span class="n">Property</span><span class="w"> </span><span class="n">property</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="n">m_properties</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">property</span><span class="p">);</span>
<span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="vertical-distance">
<h4>Vertical Distance<a class="headerlink" href="#vertical-distance" title="Link to this heading">¶</a></h4>
<p>Concepts that are closely related should be kept vertically close to each other.</p>
<section id="variable-declarations">
<h5>Variable Declarations<a class="headerlink" href="#variable-declarations" title="Link to this heading">¶</a></h5>
<p>Variables should be declared as close to their usage as possible.</p>
</section>
</section>
<section id="vertical-ordering-language-dependent">
<h4>Vertical ordering (language dependent)<a class="headerlink" href="#vertical-ordering-language-dependent" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Functions should be defined below the functions that call it</p></li>
<li><p>This is the exact opposite of languages like C and C++ that enforce functions to be defined, or at least declared,
before they are used.</p></li>
</ul>
</section>
</section>
<section id="horizontal-formatting">
<h3>Horizontal Formatting<a class="headerlink" href="#horizontal-formatting" title="Link to this heading">¶</a></h3>
<p>No hard rules, especially as monitors can be too wide, and the font size is adjustable.</p>
<p>Rule of thumb: 120 characters</p>
<section id="horizontal-openness-and-density">
<h4>Horizontal Openness and Density<a class="headerlink" href="#horizontal-openness-and-density" title="Link to this heading">¶</a></h4>
<p>Horizontal white space to associate things that are strongly related and disassociate
things that are more weakly related.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># bad</span>
<span class="k">class</span> <span class="nc">Quadratic</span><span class="p">():</span>
 <span class="k">def</span> <span class="fm">__init__</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">...</span><span class="p">):</span>
     <span class="err">⋮</span>
 <span class="k">def</span> <span class="nf">root1</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
  <span class="n">determinant</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">determinant</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
  <span class="k">return</span> <span class="p">(</span><span class="o">-</span><span class="n">b</span><span class="o">+</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">determinant</span><span class="p">))</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">a</span><span class="p">)</span>

 <span class="k">def</span> <span class="nf">determinant</span> <span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
  <span class="k">return</span> <span class="n">b</span><span class="o">*</span><span class="n">b</span><span class="o">-</span><span class="mi">4</span><span class="o">*</span><span class="n">a</span><span class="o">*</span><span class="n">c</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># good</span>
<span class="k">class</span> <span class="nc">Quadratic</span><span class="p">():</span>
 <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="o">...</span><span class="p">):</span>
     <span class="err">⋮</span>
 <span class="k">def</span> <span class="nf">root1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span> <span class="c1"># no separation between function name and parentheses</span>
  <span class="n">determinant</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">determinant</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="c1"># spaces before and after assignment operators</span>
  <span class="k">return</span> <span class="p">(</span><span class="o">-</span><span class="n">b</span> <span class="o">-</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">determinant</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">)</span> <span class="c1"># spaces to accentuate the precedence of operators, and clarify the operations</span>

 <span class="k">def</span> <span class="nf">determinant</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
  <span class="k">return</span> <span class="n">b</span><span class="o">*</span><span class="n">b</span> <span class="o">-</span> <span class="mi">4</span><span class="o">*</span><span class="n">a</span><span class="o">*</span><span class="n">c</span>
</pre></div>
</div>
<p>Unfortunately, most tools for reformatting code are blind to the precedence of
operators and impose the same spacing throughout. So subtle spacings like those
shown above tend to get lost after you reformat the code.</p>
</section>
<section id="horizontal-alignment">
<h4>Horizontal Alignment<a class="headerlink" href="#horizontal-alignment" title="Link to this heading">¶</a></h4>
<p>Assembly language-inspired alignment</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// bad</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">FitNesseExpediter</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">ResponseSender</span>
<span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w">     </span><span class="n">Socket</span><span class="w">          </span><span class="n">socket</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w">     </span><span class="n">InputStream</span><span class="w">     </span><span class="n">input</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w">     </span><span class="n">OutputStream</span><span class="w">    </span><span class="n">output</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w">     </span><span class="n">Request</span><span class="w">         </span><span class="n">request</span><span class="p">;</span>
<span class="w">    </span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">FitNesseExpediter</span><span class="p">(</span><span class="n">Socket</span><span class="w"> </span><span class="n">s</span><span class="p">,</span>
<span class="w">                             </span><span class="n">FitNesseContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="c1">// throws Exception</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">context</span><span class="w"> </span><span class="o">=</span><span class="w">              </span><span class="n">context</span><span class="p">;</span>
<span class="w">    </span><span class="n">socket</span><span class="w"> </span><span class="o">=</span><span class="w">                    </span><span class="n">s</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// good</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">FitNesseExpediter</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">ResponseSender</span>
<span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Socket</span><span class="w"> </span><span class="n">socket</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">InputStream</span><span class="w"> </span><span class="n">input</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">OutputStream</span><span class="w"> </span><span class="n">output</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Request</span><span class="w"> </span><span class="n">request</span><span class="p">;</span>
<span class="w">    </span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">FitNesseExpediter</span><span class="p">(</span><span class="n">Socket</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">FitNesseContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">;</span>
<span class="w">    </span><span class="n">socket</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="indentation">
<h4>Indentation<a class="headerlink" href="#indentation" title="Link to this heading">¶</a></h4>
<p>A source file is a hierarchy rather like an outline.</p>
<p>Each level of this hierarchy is a scope into which:</p>
<ul class="simple">
<li><p>names can be declared</p></li>
<li><p>declarations and executable statements are interpreted.</p></li>
</ul>
<p>Therefore, we indent the lines in proportion to their position in the hiearchy:</p>
<ul class="simple">
<li><p>Statements at the level of the file, e.g. class declarations, are not indented at all.</p></li>
<li><p>Methods within a class are indented one level to the right of the class.</p></li>
<li><p>Implementations of those methods are implemented one level to the right of the method declaration.</p></li>
</ul>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">FitNesseServer</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">SocketServer</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kd">private</span><span class="w"> </span><span class="n">FitNesseContext</span>
<span class="n">context</span><span class="p">;</span><span class="w"> </span><span class="kd">public</span><span class="w"> </span><span class="nf">FitNesseServer</span><span class="p">(</span><span class="n">FitNesseContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">context</span><span class="w"> </span><span class="o">=</span>
<span class="n">context</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">serve</span><span class="p">(</span><span class="n">Socket</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">serve</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="mi">10000</span><span class="p">);</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span>
<span class="nf">serve</span><span class="p">(</span><span class="n">Socket</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">requestTimeout</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">FitNesseExpediter</span><span class="w"> </span><span class="n">sender</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span>
<span class="n">FitNesseExpediter</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">context</span><span class="p">);</span>
<span class="n">sender</span><span class="p">.</span><span class="na">setRequestParsingTimeLimit</span><span class="p">(</span><span class="n">requestTimeout</span><span class="p">);</span><span class="w"> </span><span class="n">sender</span><span class="p">.</span><span class="na">start</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<span class="k">catch</span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">FitNesseServer</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">SocketServer</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">private</span><span class="w"> </span><span class="n">FitNesseContext</span><span class="w"> </span><span class="n">context</span><span class="p">;</span>

<span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="nf">FitNesseServer</span><span class="p">(</span><span class="n">FitNesseContext</span><span class="w"> </span><span class="n">context</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="na">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w"> </span>
<span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">serve</span><span class="p">(</span><span class="n">Socket</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">serve</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="mi">10000</span><span class="p">);</span>
<span class="w">  </span><span class="p">}</span>
<span class="w"> </span>
<span class="w">  </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">serve</span><span class="p">(</span><span class="n">Socket</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">requestTimeout</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">FitNesseExpediter</span><span class="w"> </span><span class="n">sender</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">FitNesseExpediter</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">context</span><span class="p">);</span>
<span class="w">      </span><span class="n">sender</span><span class="p">.</span><span class="na">setRequestParsingTimeLimit</span><span class="p">(</span><span class="n">requestTimeout</span><span class="p">);</span>
<span class="w">      </span><span class="n">sender</span><span class="p">.</span><span class="na">start</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="n">Exception</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="n">e</span><span class="p">.</span><span class="na">printStackTrace</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<section id="breaking-indentation">
<h5>Breaking Indentation<a class="headerlink" href="#breaking-indentation" title="Link to this heading">¶</a></h5>
<p>It is sometimes tempting to break the indentation rule for short
if statements, short while loops, or short functions.</p>
<p>Recommendation: Avoid collapsing scopes down to one line, and expand and indent the scopes instead, as described earlier.</p>
</section>
</section>
</section>
</section>
<section id="chapter-9-unit-tests">
<h2>Chapter 9: Unit Tests<a class="headerlink" href="#chapter-9-unit-tests" title="Link to this heading">¶</a></h2>
<section id="the-three-laws-of-tdd-test-driven-development">
<h3>The Three Laws of TDD (Test Driven Development)<a class="headerlink" href="#the-three-laws-of-tdd-test-driven-development" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>First Law: You may not write production code until you have written a failing unit test.</p></li>
<li><p>Second Law: You may not write more of a unit test than is sufficient to fail, and not compiling is failing.</p></li>
<li><p>Third Law: You may not write more production code than is sufficient to pass the currently failing test.</p></li>
</ul>
</section>
<section id="keeping-tests-clean-no-quick-and-dirty-tests">
<h3>Keeping Tests Clean: No quick and dirty tests<a class="headerlink" href="#keeping-tests-clean-no-quick-and-dirty-tests" title="Link to this heading">¶</a></h3>
<p>Quick and dirty tests: variables are not well named, test functions are not short and descriptive.</p>
<p><strong>Issues</strong>:</p>
<ul class="simple">
<li><p>Having dirty tests is equivalent to, if not worse than, having no tests.</p></li>
<li><p>Tests must change as the production code evolves. The dirtier the tests, the harder they are to change.</p></li>
<li><p>As you modify the production code, old tests start to fail, and the mess in the test code makes it hard to get those tests to pass again.</p></li>
</ul>
<p>Verdict: test code is just as important as production code, and it is not a second-class citizen.</p>
</section>
<section id="clean-tests">
<h3>Clean Tests<a class="headerlink" href="#clean-tests" title="Link to this heading">¶</a></h3>
<p>What makes a clean test? Three things. Readability, readability, and readability.</p>
<p>Don’t write a test where the reader is inundated with details that must be understood before the tests make any sense.
(<strong>show java files</strong>)</p>
<section id="build-operate-check-pattern">
<h4>BUILD-OPERATE-CHECK pattern<a class="headerlink" href="#build-operate-check-pattern" title="Link to this heading">¶</a></h4>
<p>The first part builds up the test data:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">testGetPageHieratchyAsXml</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="n">makePages</span><span class="p">(</span><span class="s">&quot;PageOne&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PageOne.ChildOne&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PageTwo&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>The second part operates on that test data:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="n">submitRequest</span><span class="p">(</span><span class="s">&quot;root&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;type:pages&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>The third part checks that the operation yielded the expected results:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="n">assertResponseIsXML</span><span class="p">();</span>
<span class="w"> </span><span class="n">assertResponseContains</span><span class="p">(</span>
<span class="w"> </span><span class="s">&quot;&lt;name&gt;PageOne&lt;/name&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&lt;name&gt;PageTwo&lt;/name&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&lt;name&gt;ChildOne&lt;/name&gt;&quot;</span>
</pre></div>
</div>
</section>
<section id="a-dual-standard">
<h4>A Dual Standard<a class="headerlink" href="#a-dual-standard" title="Link to this heading">¶</a></h4>
<p>Test code must still be simple, succinct, and expressive, but it need not be as efficient as
production code.</p>
<p>There are things that you might never do in a
production environment that are perfectly fine in a test environment.</p>
<section id="readability">
<h5>Readability<a class="headerlink" href="#readability" title="Link to this heading">¶</a></h5>
<p>Before:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Test</span>
<span class="w"> </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">turnOnLoTempAlarmAtThreashold</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="n">hw</span><span class="p">.</span><span class="na">setTemp</span><span class="p">(</span><span class="n">WAY_TOO_COLD</span><span class="p">);</span>
<span class="w"> </span><span class="n">controller</span><span class="p">.</span><span class="na">tic</span><span class="p">();</span>
<span class="w"> </span>
<span class="w"> </span><span class="n">assertTrue</span><span class="p">(</span><span class="n">hw</span><span class="p">.</span><span class="na">heaterState</span><span class="p">());</span>
<span class="w"> </span><span class="n">assertTrue</span><span class="p">(</span><span class="n">hw</span><span class="p">.</span><span class="na">blowerState</span><span class="p">());</span>
<span class="w"> </span><span class="n">assertFalse</span><span class="p">(</span><span class="n">hw</span><span class="p">.</span><span class="na">coolerState</span><span class="p">());</span>
<span class="w"> </span><span class="n">assertFalse</span><span class="p">(</span><span class="n">hw</span><span class="p">.</span><span class="na">hiTempAlarm</span><span class="p">());</span>
<span class="w"> </span><span class="n">assertTrue</span><span class="p">(</span><span class="n">hw</span><span class="p">.</span><span class="na">loTempAlarm</span><span class="p">());</span>
<span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<p>After:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Test</span>
<span class="w"> </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">turnOnLoTempAlarmAtThreshold</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="n">wayTooCold</span><span class="p">();</span>
<span class="w"> </span><span class="n">assertEquals</span><span class="p">(</span><span class="s">&quot;HBchL&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">hw</span><span class="p">.</span><span class="na">getState</span><span class="p">());</span>
<span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<p>Another example:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="nd">@Test</span>
<span class="w"> </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">turnOnHeaterAndBlowerIfTooCold</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="n">tooCold</span><span class="p">();</span>
<span class="w"> </span><span class="n">assertEquals</span><span class="p">(</span><span class="s">&quot;HBchl&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">hw</span><span class="p">.</span><span class="na">getState</span><span class="p">());</span>
<span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<p>Even though this is close to a violation of the rule about mental mapping, it seems
appropriate in this case. Notice, once you know the meaning, your eyes glide across
that string and you can quickly interpret the results.</p>
</section>
<section id="efficiency">
<h5>Efficiency<a class="headerlink" href="#efficiency" title="Link to this heading">¶</a></h5>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getState</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">;</span>
<span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">heater</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;H&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;h&quot;</span><span class="p">;</span>
<span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">blower</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;B&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;b&quot;</span><span class="p">;</span>
<span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">cooler</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;C&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;c&quot;</span><span class="p">;</span>
<span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">hiTempAlarm</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;H&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;h&quot;</span><span class="p">;</span>
<span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">loTempAlarm</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="s">&quot;L&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s">&quot;l&quot;</span><span class="p">;</span>
<span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">state</span><span class="p">;</span>
<span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">StringBuffers</span></code> would have been more efficient. However, the test environment, is not likely to be
constrained.</p>
</section>
<section id="verdict">
<h5>Verdict:<a class="headerlink" href="#verdict" title="Link to this heading">¶</a></h5>
<p>There are things that you might never do in a production environment that are perfectly fine in a test environment. Usually they involve
issues of memory or CPU efficiency. But they never involve issues of <strong>cleanliness</strong>.</p>
</section>
</section>
</section>
<section id="one-assert-per-test-soft-requirement">
<h3>One Assert per Test (soft requirement)<a class="headerlink" href="#one-assert-per-test-soft-requirement" title="Link to this heading">¶</a></h3>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// relatively bad</span>

<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">testGetPageHieratchyAsXml</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="n">makePages</span><span class="p">(</span><span class="s">&quot;PageOne&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PageOne.ChildOne&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PageTwo&quot;</span><span class="p">);</span>
<span class="w"> </span>
<span class="w"> </span><span class="n">submitRequest</span><span class="p">(</span><span class="s">&quot;root&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;type:pages&quot;</span><span class="p">);</span>
<span class="w"> </span>
<span class="w"> </span><span class="n">assertResponseIsXML</span><span class="p">();</span>
<span class="w"> </span>
<span class="w"> </span><span class="n">assertResponseContains</span><span class="p">(</span>
<span class="w"> </span><span class="s">&quot;&lt;name&gt;PageOne&lt;/name&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&lt;name&gt;PageTwo&lt;/name&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&lt;name&gt;ChildOne&lt;/name&gt;&quot;</span>
<span class="w"> </span><span class="p">);</span>
<span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// relatively good</span>

<span class="c1">// first assert</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">testGetPageHierarchyAsXml</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>

<span class="n">givenPages</span><span class="p">(</span><span class="s">&quot;PageOne&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PageOne.ChildOne&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PageTwo&quot;</span><span class="p">);</span>

<span class="n">whenRequestIsIssued</span><span class="p">(</span><span class="s">&quot;root&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;type:pages&quot;</span><span class="p">);</span>

<span class="n">thenResponseShouldBeXML</span><span class="p">();</span>
<span class="p">}</span>

<span class="c1">// second assert</span>
<span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">testGetPageHierarchyHasRightTags</span><span class="p">()</span><span class="w"> </span><span class="kd">throws</span><span class="w"> </span><span class="n">Exception</span><span class="w"> </span><span class="p">{</span>

<span class="n">givenPages</span><span class="p">(</span><span class="s">&quot;PageOne&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PageOne.ChildOne&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;PageTwo&quot;</span><span class="p">);</span>

<span class="n">whenRequestIsIssued</span><span class="p">(</span><span class="s">&quot;root&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;type:pages&quot;</span><span class="p">);</span>

<span class="n">thenResponseShouldContain</span><span class="p">(</span>
<span class="s">&quot;&lt;name&gt;PageOne&lt;/name&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&lt;name&gt;PageTwo&lt;/name&gt;&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&lt;name&gt;ChildOne&lt;/name&gt;&quot;</span>
<span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Notice the <code class="docutils literal notranslate"><span class="pre">given-when-then</span></code> naming pattern.</p>
<p>Drawback: duplicate code</p>
<section id="possible-solutions">
<h4>Possible solutions<a class="headerlink" href="#possible-solutions" title="Link to this heading">¶</a></h4>
<p>1- Use the TEMPLATE METHOD pattern and put the <strong>given</strong>/<strong>when</strong> parts in the base class, and the <strong>then</strong> parts in different derivatives<br />
2- Create a completely separate test class and put the <strong>given</strong>/<strong>when</strong> parts in the &#64;Before function, and the <strong>then</strong> parts in each &#64;Test function.</p>
<p>Here, this seems like too much mechanism for such a minor issue, and you could stick to multiple <code class="docutils literal notranslate"><span class="pre">asserts</span></code>.</p>
<p><strong>Verdict</strong>: the best thing we can say is that the number of asserts in a test ought to be minimized.</p>
</section>
</section>
<section id="single-concept-per-test">
<h3>Single Concept per Test<a class="headerlink" href="#single-concept-per-test" title="Link to this heading">¶</a></h3>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> * Miscellaneous tests for the addMonths() method.</span>
<span class="cm"> */</span>
<span class="w"> </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">testAddMonths</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">     </span><span class="n">SerialDate</span><span class="w"> </span><span class="n">d1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SerialDate</span><span class="p">.</span><span class="na">createInstance</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">2004</span><span class="p">);</span>
<span class="w">     </span>
<span class="w">     </span><span class="n">SerialDate</span><span class="w"> </span><span class="n">d2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SerialDate</span><span class="p">.</span><span class="na">addMonths</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">d1</span><span class="p">);</span>
<span class="w">     </span><span class="n">assertEquals</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="n">d2</span><span class="p">.</span><span class="na">getDayOfMonth</span><span class="p">());</span>
<span class="w">     </span><span class="n">assertEquals</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="n">d2</span><span class="p">.</span><span class="na">getMonth</span><span class="p">());</span>
<span class="w">     </span><span class="n">assertEquals</span><span class="p">(</span><span class="mi">2004</span><span class="p">,</span><span class="w"> </span><span class="n">d2</span><span class="p">.</span><span class="na">getYYYY</span><span class="p">());</span>
<span class="w">     </span>
<span class="w">     </span><span class="n">SerialDate</span><span class="w"> </span><span class="n">d3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SerialDate</span><span class="p">.</span><span class="na">addMonths</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">d1</span><span class="p">);</span>
<span class="w">     </span><span class="n">assertEquals</span><span class="p">(</span><span class="mi">31</span><span class="p">,</span><span class="w"> </span><span class="n">d3</span><span class="p">.</span><span class="na">getDayOfMonth</span><span class="p">());</span>
<span class="w">     </span><span class="n">assertEquals</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="n">d3</span><span class="p">.</span><span class="na">getMonth</span><span class="p">());</span>
<span class="w">     </span><span class="n">assertEquals</span><span class="p">(</span><span class="mi">2004</span><span class="p">,</span><span class="w"> </span><span class="n">d3</span><span class="p">.</span><span class="na">getYYYY</span><span class="p">());</span>
<span class="w">     </span>
<span class="w">     </span><span class="n">SerialDate</span><span class="w"> </span><span class="n">d4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SerialDate</span><span class="p">.</span><span class="na">addMonths</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">SerialDate</span><span class="p">.</span><span class="na">addMonths</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">d1</span><span class="p">));</span>
<span class="w">     </span><span class="n">assertEquals</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span><span class="w"> </span><span class="n">d4</span><span class="p">.</span><span class="na">getDayOfMonth</span><span class="p">());</span>
<span class="w">     </span><span class="n">assertEquals</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="n">d4</span><span class="p">.</span><span class="na">getMonth</span><span class="p">());</span>
<span class="w">     </span><span class="n">assertEquals</span><span class="p">(</span><span class="mi">2004</span><span class="p">,</span><span class="w"> </span><span class="n">d4</span><span class="p">.</span><span class="na">getYYYY</span><span class="p">());</span>
<span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<p><strong>Concepts:</strong></p>
<p>• Given the last day of a month with 31 days (like May):</p>
<ol class="arabic simple">
<li><p>When you add one month, such that the last day of that month is the 30th
(like June), then the date should be the 30th of that month, not the 31st.</p></li>
<li><p>When you add two months to that date, such that the final month has 31 days,
then the date should be the 31st.</p></li>
</ol>
<p>• Given the last day of a month with 30 days in it (like June):</p>
<ol class="arabic simple">
<li><p>When you add one month such that the last day of that month has 31 days, then the
date should be the 30th, not the 31st.</p></li>
</ol>
<p><strong>Proposed change:</strong>
You should test just <strong>one concept per test</strong> function.</p>
</section>
<section id="f-i-r-s-t">
<h3>F.I.R.S.T.<a class="headerlink" href="#f-i-r-s-t" title="Link to this heading">¶</a></h3>
<p>The other five rules for clean tests:</p>
<ul class="simple">
<li><p><strong>Fast:</strong></p>
<ul>
<li><p>They should run quickly.</p></li>
<li><p>When tests run slow, you won’t want to run them frequently.</p></li>
<li><p>If you don’t run them frequently, you won’t find problems early
enough to fix them easily.</p></li>
<li><p>You won’t feel as free to clean up the code.</p></li>
<li><p>Eventually the code will begin to rot.</p></li>
</ul>
</li>
<li><p><strong>Independent:</strong></p>
<ul>
<li><p>One test should not set up the conditions for the next test.</p></li>
<li><p>You should be able to run each test independently and run the tests in
any order you like.</p></li>
<li><p>When tests depend on each other, then the first one to fail causes a cascade of downstream failures, making diagnosis difficult and hiding downstream defects.</p></li>
</ul>
</li>
<li><p><strong>Repeatable:</strong></p>
<ul>
<li><p>Tests should be repeatable in any environment.</p></li>
<li><p>You should be able to run the
tests in the production environment, in the QA environment, and on your laptop while
riding home on the train without a network.</p></li>
<li><p>If your tests aren’t repeatable in any environment, then you’ll always have an excuse for why they fail.</p></li>
<li><p>You’ll also find yourself unable to run the tests when the environment isn’t available.</p></li>
</ul>
</li>
<li><p><strong>Self-Validating:</strong></p>
<ul>
<li><p>The tests should have a boolean output.</p></li>
<li><p>Either they pass or fail.</p></li>
<li><p>You should not have to read through a log file to tell whether the tests pass.</p></li>
<li><p>You should not have
to manually compare two different text files to see whether the tests pass.</p></li>
<li><p>If the tests aren’t self-validating, then failure can become subjective and running the tests can require a long
manual evaluation.</p></li>
</ul>
</li>
<li><p><strong>Timely:</strong></p>
<ul>
<li><p>The tests need to be written in a timely fashion.</p></li>
<li><p>Unit tests should be written just before the production code that makes them pass.</p></li>
<li><p>If you write tests after the production code, then you may find the production code to be hard to test.</p></li>
<li><p>You may decide that some production code is too hard to test.</p></li>
<li><p>You may not design the production code to be testable.</p></li>
</ul>
</li>
</ul>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../setting_up_project.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Setting up and organizing a project</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="programming_intro.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Getting started with programming</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Sandve Lab UiO
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Clean code</a><ul>
<li><a class="reference internal" href="#chapter-1-meaningful-names">Chapter 1: Meaningful names</a><ul>
<li><a class="reference internal" href="#use-intention-revealing-names">Use intention-revealing names</a></li>
<li><a class="reference internal" href="#avoid-disinformation">Avoid disinformation</a></li>
<li><a class="reference internal" href="#make-meaningful-distinctions">Make meaningful distinctions</a></li>
<li><a class="reference internal" href="#use-pronounceable-names">Use pronounceable names</a></li>
<li><a class="reference internal" href="#use-searchable-names">Use searchable names</a></li>
<li><a class="reference internal" href="#avoid-mental-mapping">Avoid mental mapping</a></li>
<li><a class="reference internal" href="#classes-and-objects-should-have-noun-names">Classes and objects should have noun names</a></li>
<li><a class="reference internal" href="#methods-should-have-verb-or-verb-phrases-as-names">Methods should have verb or verb phrases as names</a></li>
<li><a class="reference internal" href="#don-t-be-cute">Don’t be cute</a></li>
<li><a class="reference internal" href="#pick-one-word-per-concept">Pick one word per concept</a></li>
<li><a class="reference internal" href="#other-rules">Other rules:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#chapter-3-functions">Chapter 3: Functions</a><ul>
<li><a class="reference internal" href="#make-functions-small">Make functions small</a></li>
<li><a class="reference internal" href="#keep-indentation-level-at-maximum-1-or-2">Keep indentation level at maximum 1 or 2</a></li>
<li><a class="reference internal" href="#functions-should-do-one-thing">Functions should do one thing</a></li>
<li><a class="reference internal" href="#the-stepdown-rule">The stepdown-rule</a></li>
<li><a class="reference internal" href="#give-your-functions-few-arguments">Give your functions few arguments</a></li>
<li><a class="reference internal" href="#flag-arguments-are-ugly">Flag arguments are ugly</a></li>
<li><a class="reference internal" href="#functions-should-not-have-side-effects">Functions should not have side effects</a></li>
<li><a class="reference internal" href="#functions-should-either-do-something-or-answer-something-not-both">Functions should either do something or answer something (not both)</a></li>
<li><a class="reference internal" href="#prefer-exceptions-to-returning-error-codes">Prefer exceptions to returning error codes</a></li>
<li><a class="reference internal" href="#extract-try-catch-blocks">Extract try/catch blocks</a></li>
<li><a class="reference internal" href="#don-t-repeat-yourself">Don’t repeat yourself</a></li>
<li><a class="reference internal" href="#optional-all-functions-should-have-one-entry-and-one-exit">(Optional) All functions should have one entry and one exit</a></li>
<li><a class="reference internal" href="#refine-long-functions-into-multiple-shorter">Refine long functions into multiple shorter</a></li>
</ul>
</li>
<li><a class="reference internal" href="#chapter-4-comments">Chapter 4: Comments</a><ul>
<li><a class="reference internal" href="#comments-do-not-make-up-for-bade-code">Comments do not make up for bade code</a></li>
<li><a class="reference internal" href="#explain-your-self-in-code">Explain your self in code</a></li>
<li><a class="reference internal" href="#don-t-use-comments-when-you-can-use-a-function-or-variable">Don’t use comments when you can use a function or variable</a></li>
<li><a class="reference internal" href="#avoid-noise">Avoid noise</a></li>
<li><a class="reference internal" href="#avoid-todo-comments">Avoid todo comments</a></li>
<li><a class="reference internal" href="#informative-comments">Informative comments</a></li>
<li><a class="reference internal" href="#don-t-comment-out-code">Don’t comment out code</a></li>
</ul>
</li>
<li><a class="reference internal" href="#chapter-5-formatting">Chapter 5: Formatting</a><ul>
<li><a class="reference internal" href="#vertical-formatting">Vertical formatting</a><ul>
<li><a class="reference internal" href="#the-newspaper-metaphor-structure">The Newspaper Metaphor (structure)</a></li>
<li><a class="reference internal" href="#the-newspaper-metaphor-length-of-files">The Newspaper Metaphor (length of files)</a></li>
<li><a class="reference internal" href="#vertical-openness-between-concepts">Vertical Openness Between Concepts</a></li>
<li><a class="reference internal" href="#vertical-density">Vertical Density</a></li>
<li><a class="reference internal" href="#vertical-distance">Vertical Distance</a><ul>
<li><a class="reference internal" href="#variable-declarations">Variable Declarations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#vertical-ordering-language-dependent">Vertical ordering (language dependent)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#horizontal-formatting">Horizontal Formatting</a><ul>
<li><a class="reference internal" href="#horizontal-openness-and-density">Horizontal Openness and Density</a></li>
<li><a class="reference internal" href="#horizontal-alignment">Horizontal Alignment</a></li>
<li><a class="reference internal" href="#indentation">Indentation</a><ul>
<li><a class="reference internal" href="#breaking-indentation">Breaking Indentation</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#chapter-9-unit-tests">Chapter 9: Unit Tests</a><ul>
<li><a class="reference internal" href="#the-three-laws-of-tdd-test-driven-development">The Three Laws of TDD (Test Driven Development)</a></li>
<li><a class="reference internal" href="#keeping-tests-clean-no-quick-and-dirty-tests">Keeping Tests Clean: No quick and dirty tests</a></li>
<li><a class="reference internal" href="#clean-tests">Clean Tests</a><ul>
<li><a class="reference internal" href="#build-operate-check-pattern">BUILD-OPERATE-CHECK pattern</a></li>
<li><a class="reference internal" href="#a-dual-standard">A Dual Standard</a><ul>
<li><a class="reference internal" href="#readability">Readability</a></li>
<li><a class="reference internal" href="#efficiency">Efficiency</a></li>
<li><a class="reference internal" href="#verdict">Verdict:</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#one-assert-per-test-soft-requirement">One Assert per Test (soft requirement)</a><ul>
<li><a class="reference internal" href="#possible-solutions">Possible solutions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#single-concept-per-test">Single Concept per Test</a></li>
<li><a class="reference internal" href="#f-i-r-s-t">F.I.R.S.T.</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=5fa4622c"></script>
    </body>
</html>